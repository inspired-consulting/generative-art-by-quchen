#!/usr/bin/env bash

set -euo pipefail

echo "Generating visual testsuite file (Markdown for Github)"
cd "$(git rev-parse --show-toplevel)/test/out"

FILE=README.md

cat << EOF > "$FILE"
<!-- This file was auto-generated by generate_readme.sh -->

# Visual testsuite

This file contains the SVG files generated by the visual testsuite to glance
over quickly.

EOF

for image in $(find ../../docs -name "*.svg" | sort); do
    echo ""
    echo "![Missing image!]($image)"
done >> "$FILE"
