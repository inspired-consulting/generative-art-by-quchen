#!/usr/bin/env bash

set -euo pipefail

echo "Generating visual testsuite file"
cd "$(git rev-parse --show-toplevel)"

FILE=test/out/README.md

cat << EOF > "$FILE"
<!-- This file was auto-generated by generate_readme.sh -->

# Visual testsuite

This file should contains the SVG files generated by the visual testsuite to
glance over quickly.
EOF

for image in test/out/*.svg; do
    echo ""
    echo "![]($(basename "$image"))"
done >> "$FILE"
